<!DOCTYPE html>
<html>
<head>
    <title>Video Stream</title>
</head>
<body>
    <video id="videoPlayer" autoplay muted playsinline>
        <source src="/video" type="video/mp4">
    </video>
    <script>
        const videoPlayer = document.getElementById('videoPlayer');
        
        function loadNextVideo() {
            fetch('/get_video_list')
                .then(response => response.json())
                .then(data => {
                    const nextVideo = data.shift();
                    if (nextVideo) {
                        videoPlayer.src = '/video';
                        videoPlayer.load();
                    }
                });
        }

        videoPlayer.addEventListener('ended', loadNextVideo);
        loadNextVideo();
    </script>
</body>
</html>

